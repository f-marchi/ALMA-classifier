Metadata-Version: 2.1
Name: alma-classifier
Version: 0.1.0
Summary: A Python package for applying pre-trained epigenomic classification models
Home-page: https://github.com/yourusername/alma-classifier
Author: Your Name
License: MIT
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: pandas~=2.0.3
Requires-Dist: numpy~=1.24.4
Requires-Dist: scikit-learn~=1.2.2
Requires-Dist: lightgbm~=3.3.5
Requires-Dist: joblib~=1.3.2
Requires-Dist: openpyxl>=3.0.0
Requires-Dist: setuptools>=75.3.0
Requires-Dist: pacmap~=0.7.0

# ALMA Classifier

A Python package for applying pre-trained epigenomic classification models to methylation data. This package provides two main predictive models:

1. **ALMA Subtype**: Predicts 28 subtypes/classes (27 WHO 2022 subtypes of acute leukemia + otherwise-normal control).
2. **AML Epigenomic Risk**: Predicts the probability of death within 5 years for AML patients.

## Installation

```bash
# first make sure you are running python3.8
python --version

# create a virtual env
python -m venv .venv
source .venv/bin/activate

# install pacmap==0.7.0 (required)
pip install pacmap==0.7.0

# Then install alma-classifier
pip install alma-classifier

# Download model files (required)
python -m alma_classifier.download_models
```

### Important Notes
1. The `pacmap` package must be installed separately before installing `alma-classifier` due to its specific system requirements and size. Please ensure you have it installed in your environment.

2. Pre-trained models are required for the package to function. You can download them automatically using:
   ```bash
   python -m alma_classifier.download_models
   ```
   This will download and place the model files in the correct directory structure:
   ```
   alma_classifier/models/
   ├── imputer_model.joblib
   ├── lgbm_dx_model.pkl
   ├── lgbm_px_model.pkl
   ├── pacmap_5d_model_alma.ann
   └── pacmap_5d_model_alma.pkl
   ```

## Usage

### Command Line Interface

```bash
# Basic usage
alma-classifier --input path/to/data.pkl --output path/to/predictions.xlsx
```

## Input Data Format

The input data should be a matrix of methylation beta values with:
- Rows representing samples
- Columns representing CpG sites
- Values between 0 and 1

## Citation

If you use this package in your research, please cite:

Francisco Marchi, Marieke Landwehr, Ann-Kathrin Schade et al. Long-read epigenomic diagnosis and prognosis of Acute Myeloid Leukemia, 12 December 2024, PREPRINT (Version 1) available at Research Square [https://doi.org/10.21203/rs.3.rs-5450972/v1]

## License

See license file.
